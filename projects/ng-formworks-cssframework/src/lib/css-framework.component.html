<div [attr.data-bs-theme]="theme" [attr.data-theme]="theme" [class]="options?.htmlClass || ''" [class.has-feedback]="options?.feedback && options?.isInputWidget &&
        (formControl?.dirty || options?.feedbackOnRender)" [class.has-error]="options?.enableErrorState && formControl?.errors &&
        (formControl?.dirty || options?.feedbackOnRender)" [class.has-success]="options?.enableSuccessState && !formControl?.errors &&
        (formControl?.dirty || options?.feedbackOnRender)">

  @if (showRemoveButton) {
    <button [class]="widgetStyles().__remove_item__" type="button" (click)="removeItem()">
      <span aria-hidden="true">&times;</span>
      <span [class]="widgetStyles().__screen_reader__">Close</span>
    </button>
  }
  @if (options?.messageLocation === 'top') {
    <div>
      @if (options?.helpBlock) {
        <p [class]="widgetStyles().__help_block__" [innerHTML]="options?.helpBlock"></p>
      }
    </div>
  }

  @if (options?.title && layoutNode()?.type !== 'tab') {
    <label [attr.for]="'control' + layoutNode()?._id" [class]="options?.labelHtmlClass || ''" [class.sr-only]="options?.notitle" [innerHTML]="dynamicTitle"></label>
  }
  @if (layoutNode()?.type === 'submit' && jsf?.formOptions?.fieldsRequired) {
    <p>
      <strong [class]="widgetStyles().__required_asterisk__">*</strong> = required fields
    </p>
  }
  <div [class.input-group]="options?.fieldAddonLeft || options?.fieldAddonRight">
    @if (options?.fieldAddonLeft) {
      <span [class]="widgetStyles().__field_addon_left__" [innerHTML]="options?.fieldAddonLeft"></span>
    }

    <select-widget-widget [layoutNode]="widgetLayoutNode" [dataIndex]="dataIndex()" [layoutIndex]="layoutIndex()"></select-widget-widget>

    @if (options?.fieldAddonRight) {
      <span [class]="widgetStyles().__field_addon_right__" [innerHTML]="options?.fieldAddonRight"></span>
    }
  </div>

  @if (options?.feedback && options?.isInputWidget &&
    !options?.fieldAddonRight && !layoutNode().arrayItem &&
    (formControl?.dirty || options?.feedbackOnRender)) {
    <span [class.glyphicon-ok]="options?.enableSuccessState && !formControl?.errors" [class.glyphicon-remove]="options?.enableErrorState && formControl?.errors" aria-hidden="true" class="form-control-feedback glyphicon"></span>
  }
  @if (options?.messageLocation !== 'top') {
    <div>
      @if (options?.helpBlock) {
        <p [class]="widgetStyles().__help_block__" [innerHTML]="options?.helpBlock"></p>
      }
    </div>
  }

</div>

@if (debug && debugOutput) {
  <div>debug:
    <pre>{{debugOutput}}</pre>
  </div>
}

<!--
<div class="btn input input-bordered input-primary w-full max-w-xs
btn-neutral
btn-primary
btn-secondary
btn-accent
btn-info
btn-success
btn-warning
btn-error
btn-ghost
btn-link
btn-outline
btn-active
btn-disabled
glass
no-animation
btn-lg
btn-md
btn-sm
btn-xs
btn-wide
btn-block
btn-circle
btn-square
hidden
">defs al</div>
-->
<!--<input type="text" placeholder="Type here" class="input input-bordered input-primary w-full max-w-xs" />-->